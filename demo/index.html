<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DarkroomJS</title>
  <link rel="stylesheet" href="./build/darkroom.css">
  <link rel="stylesheet" href="./css/page.css">
</head>
<body>


<div id="content">
  <div class="container">
    <section class="copy">
      <h1 style="color:#444">Choice visual feature select page</h1>
      <div class="figure-wrapper">
        <figure class="image-container target">
          <img src="./images/domokun-big.jpg" alt="DomoKun" id="target">
        </figure>
      </div>
      <button onclick="getResults();">Get Results</button>
      <button onclick="destroySelection();">Destroy selection</button>
    </section>
  </div>
</div>

<script src="./vendor/fabric2.js"></script>
<script src="./build/darkroom.js"></script>

<script>

  function destroySelection(){
    dkrm.selfDestroy();
    alert ("Destroying dark room");
  }


  function getResults(){
    var selectPlugin = dkrm.plugins['select'];
    if(selectPlugin){
      var s = selectPlugin.selectCurrentZone();
      console.log(s)
    }
    else{
      alert ("failed to get results");
    }
  }

  var dkrm = new Darkroom('#target', {
    // Size options
    minWidth: 100,
    minHeight: 100,
    maxWidth: 600,
    maxHeight: 500,
    ratio: 4/3,
    backgroundColor: '#000',

    // Plugins options
    plugins: {
      select: {
        quickSelectKey: 67, //key "c"
        minHeight: 50,
        minWidth: 50
        //ratio: 4/3
      }
    },

    // Post initialize script
    initialize: function() {
      var selectPlugin = this.plugins['select'];
      selectPlugin.drawZone(100, 100, 50, 50, true);
      selectPlugin.requireFocus();
    }
  });
</script>


</body>
</html>
